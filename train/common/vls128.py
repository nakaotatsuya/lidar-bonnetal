#!/usr/bin/env python

import numpy as np

vls = [-11.742, -1.99, 3.4, -5.29, -0.78, 4.61, -4.08, 1.31,
                -6.5, -1.11, 4.28, -4.41, 0.1, 6.48, -3.2, 2.19,
                -3.86, 1.53, -9.244, -1.77, 2.74, -5.95, -0.56, 4.83,
                -2.98, 2.41, -6.28, -0.89, 3.62, -5.07, 0.32, 7.58,
                -0.34, 5.18, -3.64, 1.75, -25, -2.43, 2.96, -5.73,
                0.54, 9.7, -2.76, 2.63, -7.65, -1.55, 3.84, -4.85,
                3.18, -5.51, -0.12, 5.73, -4.3, 1.09, -16.042, -2.21,
                4.06, -4.63, 0.76, 15, -3.42, 1.97, -6.85, -1.33,
                -5.62, -0.23, 5.43, -3.53, 0.98, -19.582, -2.32, 3.07,
                -4.74, 0.65, 11.75, -2.65, 1.86, -7.15, -1.44, 3.95,
                -2.1, 3.29, -5.4, -0.01, 4.5, -4.19, 1.2, -13.565,
                -1.22, 4.17, -4.52, 0.87, 6.08, -3.31, 2.08, -6.65,
                1.42, -10.346, -1.88, 3.51, -6.06, -0.67, 4.72, -3.97,
                2.3, -6.39, -1, 4.39, -5.18, 0.21, 6.98, -3.09,
                4.98, -3.75, 1.64, -8.352, -2.54, 2.85, -5.84, -0.45,
                8.43, -2.87, 2.52, -6.17, -1.66, 3.73, -4.96, 0.43
]

#vls = np.sort(vls)[::-1]
vls = sorted(vls, reverse=True)
print(vls)

vls = np.array([15, 11.75, 9.7, 8.43, 7.58, 6.98, 6.48, 6.08,
                5.73, 5.43, 5.18, 4.98, 4.83, 4.72, 4.61, 4.5,
                4.39, 4.28, 4.17, 4.06, 3.95, 3.84, 3.73, 3.62,
                3.51, 3.4, 3.29, 3.18, 3.07, 2.96, 2.85, 2.74,
                2.63, 2.52, 2.41, 2.3, 2.19, 2.08, 1.97, 1.86,
                1.75, 1.64, 1.53, 1.42, 1.31, 1.2, 1.09, 0.98,
                0.87, 0.76, 0.65, 0.54, 0.43, 0.32, 0.21, 0.1,
                -0.01, -0.12, -0.23, -0.34, -0.45, -0.56, -0.67, -0.78,
                -0.89, -1, -1.11, -1.22, -1.33, -1.44, -1.55, -1.66,
                -1.77, -1.88, -1.99, -2.1, -2.21, -2.32, -2.43, -2.54,
                -2.65, -2.76, -2.87, -2.98, -3.09, -3.2, -3.31, -3.42,
                -3.53, -3.64, -3.75, -3.86, -3.97, -4.08, -4.19, -4.3,
                -4.41, -4.52, -4.63, -4.74, -4.85, -4.96, -5.07, -5.18,
                -5.29, -5.4, -5.51, -5.62, -5.73, -5.84, -5.95, -6.06,
                -6.17, -6.28, -6.39, -6.5, -6.65, -6.85, -7.15, -7.65,
                -8.352, -9.244, -10.346, -11.742, -13.565, -16.042, -19.582, -25])

c = np.arange(2, -24.8, -0.425)
print(c)
# [  2.      1.575   1.15    0.725   0.3    -0.125  -0.55   -0.975  -1.4
#   -1.825  -2.25   -2.675  -3.1    -3.525  -3.95   -4.375  -4.8    -5.225
#   -5.65   -6.075  -6.5    -6.925  -7.35   -7.775  -8.2    -8.625  -9.05
#   -9.475  -9.9   -10.325 -10.75  -11.175 -11.6   -12.025 -12.45  -12.875
#  -13.3   -13.725 -14.15  -14.575 -15.    -15.425 -15.85  -16.275 -16.7
#  -17.125 -17.55  -17.975 -18.4   -18.825 -19.25  -19.675 -20.1   -20.525
#  -20.95  -21.375 -21.8   -22.225 -22.65  -23.075 -23.5   -23.925 -24.35
#  -24.775]

A = np.zeros((64,128))
print(A)

def vls_to_hdl():
    A[0][37] = 0.4
    A[0][38] = 0.6

def idx_of_nearest(data, value):
    idx = np.argmin(np.abs(np.array(data) - value))
    if data[idx] - value > 0:
        print(data[idx], data[idx+1])
    else:
        print(data[idx-1], data[idx])
        bigger = data[idx-1] - value
        smaller = value - data[idx]

        propotion = (1.0 * smaller / (bigger + smaller), 1.0*bigger / (bigger+smaller))
        return idx-1, idx, propotion

if __name__ == "__main__":
    a, b, c = idx_of_nearest(vls, 2)
    print(a,b, c)
    
